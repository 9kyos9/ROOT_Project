{"ast":null,"code":"var _jsxFileName = \"/Users/eunkyo/OracleProj/TEAM_ROOT/root-app/src/ShortTermWeather.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\n\n// ‚ö†Ô∏è ÏÇ¨Ïö©ÏûêÍ∞Ä Ï†úÍ≥µÌïú API ÌÇ§ÏôÄ Í≤©Ïûê Ï¢åÌëúÎ•º Î∞òÏòÅÌñàÏäµÎãàÎã§.\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst SERVICE_KEY = encodeURIComponent('5297ae5429122e0b56cef39cd7ad0da87089357e66c37c006de3694900b28c1f');\n\n// API ÏóîÎìúÌè¨Ïù∏Ìä∏ (ÌååÏù¥Ïç¨ÏóêÏÑú ÏÇ¨Ïö©ÌïòÏã† URLÏùÑ Î∞òÏòÅÌñàÏäµÎãàÎã§.)\nconst API_BASE_URL = 'http://apis.data.go.kr/1360000/VilageFcstInfoService_2.0/getVilageFcst';\n\n// --- Í∏∞ÏÉÅÏ≤≠ Í≤©Ïûê Ï¢åÌëú Î≥ÄÌôò Í≥µÏãù ---\n// LCC(Lambert Conformal Conic) Ìà¨ÏòÅÏùÑ ÏÇ¨Ïö©ÌïòÎäî Î≥µÏû°Ìïú Í≥µÏãùÏûÖÎãàÎã§.\n\nconst RE = 6371.00877; // ÏßÄÍµ¨ Î∞òÍ≤Ω (km)\nconst GRID = 5.0; // Í≤©Ïûê Í∞ÑÍ≤© (km)\nconst SLAT1 = 30.0; // ÌëúÏ§Ä ÏúÑÎèÑ 1\nconst SLAT2 = 60.0; // ÌëúÏ§Ä ÏúÑÎèÑ 2\nconst OLON = 126.0; // Í∏∞Ï§Ä Í≤ΩÎèÑ\nconst OLAT = 38.0; // Í∏∞Ï§Ä ÏúÑÎèÑ\nconst XO = 43; // ÏõêÏ†ê X Ï¢åÌëú\nconst YO = 136; // ÏõêÏ†ê Y Ï¢åÌëú\n\nfunction convertToGrid(lat, lon) {\n  const DEGRAD = Math.PI / 180.0;\n  const RADDEG = 180.0 / Math.PI;\n  const re = RE / GRID;\n  const slat1 = SLAT1 * DEGRAD;\n  const slat2 = SLAT2 * DEGRAD;\n  const olon = OLON * DEGRAD;\n  const olat = OLAT * DEGRAD;\n  let sn = Math.tan(Math.PI * 0.25 + slat2 * 0.5) / Math.tan(Math.PI * 0.25 + slat1 * 0.5);\n  sn = Math.log(Math.cos(slat1) / Math.cos(slat2)) / Math.log(sn);\n  let sf = Math.tan(Math.PI * 0.25 + slat1 * 0.5);\n  sf = Math.pow(sf, sn) * Math.cos(slat1) / sn;\n  let ro = Math.tan(Math.PI * 0.25 + olat * 0.5);\n  ro = re * sf / Math.pow(ro, sn);\n\n  // ÏÇ¨Ïö©ÏûêÏùò ÏúÑÎèÑ/Í≤ΩÎèÑ Î≥ÄÌôò\n  let ra = Math.tan(Math.PI * 0.25 + lat * DEGRAD * 0.5);\n  ra = re * sf / Math.pow(ra, sn);\n  let theta = lon * DEGRAD - olon;\n  if (theta > Math.PI) theta -= 2.0 * Math.PI;\n  if (theta < -Math.PI) theta += 2.0 * Math.PI;\n  theta *= sn;\n\n  // ÏµúÏ¢Ö Í≤©Ïûê Ï¢åÌëú (nx, ny) Í≥ÑÏÇ∞\n  const nx = Math.floor(ra * Math.sin(theta) + XO + 0.5);\n  const ny = Math.floor(ro - ra * Math.cos(theta) + YO + 0.5);\n  return {\n    nx,\n    ny\n  };\n}\n\n/**\n * Í∏∞ÏÉÅÏ≤≠ Îã®Í∏∞ÏòàÎ≥¥ API Ìò∏Ï∂úÏùÑ ÏúÑÌïú base_dateÏôÄ base_timeÏùÑ Í≥ÑÏÇ∞Ìï©ÎãàÎã§.\n * APIÎäî 3ÏãúÍ∞Ñ Îã®ÏúÑÎ°ú Î∞úÌëúÎê©ÎãàÎã§. (02, 05, 08, 11, 14, 17, 20, 23Ïãú Ï†ïÍ∞Å)\n */\nfunction getBaseDateTime() {\n  const now = new Date();\n  const year = now.getFullYear();\n  const month = String(now.getMonth() + 1).padStart(2, '0');\n  const day = String(now.getDate()).padStart(2, '0');\n  let hour = now.getHours();\n  let base_time = '';\n\n  // Î∞úÌëú ÏãúÍ∞ÑÏùÑ Í∏∞Ï§ÄÏúºÎ°ú Í∞ÄÏû• ÏµúÍ∑ºÏùò ÏãúÍ∞ÑÏùÑ Ï∞æÏäµÎãàÎã§.\n  if (hour >= 23) base_time = '2300';else if (hour >= 20) base_time = '2000';else if (hour >= 17) base_time = '1700';else if (hour >= 14) base_time = '1400';else if (hour >= 11) base_time = '1100';else if (hour >= 8) base_time = '0800';else if (hour >= 5) base_time = '0500';else if (hour >= 2) base_time = '0200';else base_time = '2300'; // 00Ïãú, 01ÏãúÏùò Í≤ΩÏö∞ Ï†ÑÎÇ† 23Ïãú Î∞úÌëú Í∏∞Ï§Ä\n\n  // ÌòÑÏû¨ ÏãúÍ∞ÅÏù¥ Î∞úÌëú ÏãúÍ∞Ñ Í∏∞Ï§ÄÎ≥¥Îã§ Îπ†Î•¥Îã§Î©¥, base_dateÎ•º Ï†ÑÎÇ†Î°ú ÏÑ§Ï†ïÌï©ÎãàÎã§.\n  let base_date = `${year}${month}${day}`;\n  if (base_time === '2300' && now.getHours() < 2) {\n    const yesterday = new Date(now);\n    yesterday.setDate(now.getDate() - 1);\n    base_date = `${yesterday.getFullYear()}${String(yesterday.getMonth() + 1).padStart(2, '0')}${String(yesterday.getDate()).padStart(2, '0')}`;\n  }\n  return {\n    base_date,\n    base_time\n  };\n}\n\n// Í≤©Ïûê Îç∞Ïù¥ÌÑ∞(item) Î∞∞Ïó¥ÏùÑ ÏãúÍ∞ÑÎ≥Ñ ÏòàÎ≥¥ Í∞ùÏ≤¥Î°ú Î≥ÄÌôòÌïòÎäî Ìï®Ïàò\nfunction processForecastData(items) {\n  const forecastMap = new Map();\n  items.forEach(item => {\n    const key = `${item.fcstDate}_${item.fcstTime}`;\n    if (!forecastMap.has(key)) {\n      forecastMap.set(key, {\n        baseDate: item.baseDate,\n        baseTime: item.baseTime,\n        fcstDate: item.fcstDate,\n        fcstTime: item.fcstTime\n      });\n    }\n\n    // category (Ïπ¥ÌÖåÍ≥†Î¶¨ ÏΩîÎìú)Ïóê Îî∞Îùº Í∞íÏùÑ Ìï†Îãπ\n    forecastMap.get(key)[item.category] = item.fcstValue;\n  });\n  return Array.from(forecastMap.values());\n}\n\n// ÌïòÎäò ÏÉÅÌÉú(SKY) ÏΩîÎìú Î≥ÄÌôò\nfunction getSkyDescription(code) {\n  if (!code) return 'Ï†ïÎ≥¥ ÏóÜÏùå';\n  switch (String(code)) {\n    case '1':\n      return 'ÎßëÏùå';\n    case '3':\n      return 'Íµ¨Î¶Ñ ÎßéÏùå';\n    case '4':\n      return 'ÌùêÎ¶º';\n    default:\n      return `ÏΩîÎìú ${code}`;\n  }\n}\n\n// Í∞ïÏàò ÌòïÌÉú(PTY) ÏΩîÎìú Î≥ÄÌôò\nfunction getPtyDescription(code) {\n  if (!code) return 'Í∞ïÏàò ÏóÜÏùå';\n  switch (String(code)) {\n    case '0':\n      return 'Í∞ïÏàò ÏóÜÏùå';\n    case '1':\n      return 'ÎπÑ';\n    case '2':\n      return 'ÎπÑ/Îàà';\n    case '3':\n      return 'Îàà';\n    case '4':\n      return 'ÏÜåÎÇòÍ∏∞';\n    case '5':\n      return 'ÎπóÎ∞©Ïö∏';\n    case '6':\n      return 'ÎπóÎ∞©Ïö∏/ÎààÎÇ†Î¶º';\n    case '7':\n      return 'ÎààÎÇ†Î¶º';\n    default:\n      return `ÏΩîÎìú ${code}`;\n  }\n}\nfunction ShortTermWeather() {\n  _s();\n  // NX, NYÎ•º ÎèôÏ†ÅÏúºÎ°ú Ï†ÄÏû•ÌïòÍ∏∞ ÏúÑÌïú ÏÉàÎ°úÏö¥ ÏÉÅÌÉú Ï∂îÍ∞Ä\n  const [coords, setCoords] = useState({\n    nx: null,\n    ny: null\n  });\n  const [weatherList, setWeatherList] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [locationName, setLocationName] = useState(\"ÌòÑÏû¨ ÏúÑÏπò\"); // ÏúÑÏπò Ïù¥Î¶Ñ ÌëúÏãúÏö©\n\n  useEffect(() => {\n    // 1. Î∏åÎùºÏö∞Ï†ÄÏùò Geolocation APIÎ•º ÏÇ¨Ïö©ÌïòÏó¨ ÌòÑÏû¨ ÏúÑÏπòÎ•º Í∞ÄÏ†∏ÏòµÎãàÎã§.\n    if (navigator.geolocation) {\n      navigator.geolocation.getCurrentPosition(position => {\n        const lat = position.coords.latitude;\n        const lon = position.coords.longitude;\n\n        // 2. ÏúÑÎèÑ/Í≤ΩÎèÑÎ•º Í∏∞ÏÉÅÏ≤≠ Í≤©Ïûê Ï¢åÌëúÎ°ú Î≥ÄÌôò\n        const {\n          nx,\n          ny\n        } = convertToGrid(lat, lon);\n        setCoords({\n          nx,\n          ny\n        }); // Î≥ÄÌôòÎêú Ï¢åÌëúÎ•º ÏÉÅÌÉúÏóê Ï†ÄÏû•\n\n        // (ÏÑ†ÌÉù) ÏúÑÏπò Ï†ïÎ≥¥Î•º Ïó≠ÏßÄÏò§ÏΩîÎî©ÌïòÏó¨ ÎèÑÏãú Ïù¥Î¶ÑÏùÑ Í∞ÄÏ†∏Ïò¨ Ïàò ÏûàÏßÄÎßå,\n        // Ïó¨Í∏∞ÏÑúÎäî Í∞ÑÎã®Ìûà Ï¢åÌëúÎßå ÌëúÏãúÌï©ÎãàÎã§.\n        setLocationName(`(${nx}, ${ny})`);\n      }, error => {\n        // ÏÇ¨Ïö©ÏûêÍ∞Ä ÏúÑÏπò Í∂åÌïúÏùÑ Í±∞Î∂ÄÌñàÍ±∞ÎÇò Ïò§Î•òÍ∞Ä Î∞úÏÉùÌïú Í≤ΩÏö∞\n        setError(\"ÏúÑÏπò Ï†ïÎ≥¥Î•º Í∞ÄÏ†∏Ïò§Îäî Îç∞ Ïã§Ìå®ÌñàÏäµÎãàÎã§. (Í∂åÌïú Í±∞Î∂Ä ÎòêÎäî Ïò§Î•ò)\");\n        setLoading(false);\n        setCoords({\n          nx: 60,\n          ny: 127\n        }); // Í∏∞Î≥∏Í∞í(ÏÑúÏö∏)ÏúºÎ°ú ÎåÄÏ≤¥ÌïòÍ±∞ÎÇò Ïò§Î•ò ÌëúÏãú\n      }, {\n        enableHighAccuracy: true,\n        timeout: 5000,\n        maximumAge: 0\n      });\n    } else {\n      setError(\"Ïù¥ Î∏åÎùºÏö∞Ï†ÄÎäî ÏúÑÏπò Ï†ïÎ≥¥(Geolocation)Î•º ÏßÄÏõêÌïòÏßÄ ÏïäÏäµÎãàÎã§.\");\n      setLoading(false);\n    }\n  }, []); // Ïª¥Ìè¨ÎÑåÌä∏ ÎßàÏö¥Ìä∏ Ïãú Ìïú Î≤àÎßå ÏúÑÏπò Ï†ïÎ≥¥Î•º ÏöîÏ≤≠Ìï©ÎãàÎã§.\n\n  // ----------------------------------------------------\n  // 3. ÎÇ†Ïî® Îç∞Ïù¥ÌÑ∞Î•º Í∞ÄÏ†∏Ïò§Îäî Î°úÏßÅ (ÏúÑÏπò Ï†ïÎ≥¥Í∞Ä ÌôïÎ≥¥Îêú ÌõÑÏóêÎßå Ïã§Ìñâ)\n  // --- [Hook 2] Ï¢åÌëú(coords)Í∞Ä ÏÑ§Ï†ïÎêú ÌõÑ API Ìò∏Ï∂ú ---\n  useEffect(() => {\n    // Ï¢åÌëúÍ∞Ä ÏïÑÏßÅ ÏÑ§Ï†ïÎêòÏßÄ ÏïäÏïòÍ±∞ÎÇò ÏóêÎü¨Í∞Ä ÏûàÎäî Í≤ΩÏö∞ API Ìò∏Ï∂úÏùÑ ÌïòÏßÄ ÏïäÏäµÎãàÎã§.\n    if (coords.nx === null || coords.ny === null || error) {\n      return;\n    }\n    const fetchWeather = async () => {\n      setLoading(true);\n      const {\n        base_date,\n        base_time\n      } = getBaseDateTime();\n\n      // ‚úÖ ÏàòÏ†ïÎêú Î∂ÄÎ∂Ñ: coords.nx, coords.nyÎ•º ÏÇ¨Ïö©\n      const API_URL = `${API_BASE_URL}?serviceKey=${SERVICE_KEY}&pageNo=1&numOfRows=1000&dataType=JSON&base_date=${base_date}&base_time=${base_time}&nx=${coords.nx}&ny=${coords.ny}`;\n      try {\n        const response = await fetch(API_URL);\n        if (!response.ok) {\n          throw new Error(`HTTP Error! Status: ${response.status}`);\n        }\n        const data = await response.json();\n        if (data.response.header.resultCode !== '00') {\n          throw new Error(`API Error: ${data.response.header.resultMsg}`);\n        }\n        if (!data.response.body || !data.response.body.items || data.response.body.items.item.length === 0) {\n          setWeatherList([]);\n          return;\n        }\n        const items = data.response.body.items.item;\n        const processedData = processForecastData(items);\n        setWeatherList(processedData);\n        setError(null);\n      } catch (e) {\n        setError(\"ÎÇ†Ïî® Îç∞Ïù¥ÌÑ∞Î•º Î∂àÎü¨Ïò§Îäî Îç∞ Ïã§Ìå®ÌñàÏäµÎãàÎã§: \" + e.message);\n        setWeatherList([]);\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchWeather();\n  }, [coords]); // coords ÏÉÅÌÉúÍ∞Ä ÏóÖÎç∞Ïù¥Ìä∏Îê† Îïå Ïã§Ìñâ\n\n  // 1. Î°úÎî© Ï§ë ÌëúÏãú\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        textAlign: 'center',\n        padding: '20px'\n      },\n      children: \"\\uACF5\\uACF5\\uB370\\uC774\\uD130 \\uD3EC\\uD138 \\uB0A0\\uC528 \\uC815\\uBCF4 \\uB85C\\uB529 \\uC911...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 228,\n      columnNumber: 12\n    }, this);\n  }\n\n  // 2. ÏóêÎü¨ Î∞úÏÉù Ïãú ÌëúÏãú\n  if (error) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        color: 'red',\n        textAlign: 'center',\n        padding: '20px'\n      },\n      children: [\"\\u26A0\\uFE0F \\uC5D0\\uB7EC: \", error]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 233,\n      columnNumber: 12\n    }, this);\n  }\n\n  // 3. Îç∞Ïù¥ÌÑ∞Í∞Ä ÏÑ±Í≥µÏ†ÅÏúºÎ°ú Î°úÎìúÎêòÏóàÏùÑ Îïå ÌëúÏãú\n  if (weatherList.length === 0) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        textAlign: 'center',\n        padding: '20px'\n      },\n      children: [\"\\uB0A0\\uC528 \\uC815\\uBCF4\\uB97C \\uCC3E\\uC744 \\uC218 \\uC5C6\\uC2B5\\uB2C8\\uB2E4. (\\uAE30\\uC900 \\uB0A0\\uC9DC: \", getBaseDateTime().base_date, \", \\uC2DC\\uAC04: \", getBaseDateTime().base_time, \")\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 238,\n      columnNumber: 14\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      padding: '20px',\n      border: '1px solid #0056b3',\n      borderRadius: '8px',\n      maxWidth: '600px',\n      margin: '0 auto',\n      fontFamily: 'Arial, sans-serif'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      style: {\n        borderBottom: '2px solid #0056b3',\n        paddingBottom: '10px',\n        color: '#0056b3'\n      },\n      children: [\"\\uC608\\uBCF4 \\uC9C0\\uC5ED (\", NX, \", \", NY, \") \\uB2E8\\uAE30 \\uC608\\uBCF4\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 243,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      style: {\n        fontSize: '14px',\n        color: '#666'\n      },\n      children: [\"\\uAE30\\uC900 \\uC2DC\\uAC01: \", weatherList[0].baseDate.slice(0, 4), \"\\uB144 \", weatherList[0].baseDate.slice(4, 6), \"\\uC6D4 \", weatherList[0].baseDate.slice(6, 8), \"\\uC77C / \", weatherList[0].baseTime.slice(0, 2), \"\\uC2DC \\uBC1C\\uD45C\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 246,\n      columnNumber: 7\n    }, this), weatherList.slice(0, 5).map((forecast, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        borderBottom: index < 4 ? '1px dotted #ccc' : 'none',\n        padding: '10px 0',\n        marginTop: '10px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        style: {\n          margin: '0',\n          fontSize: '16px',\n          color: '#333'\n        },\n        children: [forecast.fcstDate.slice(4, 6), \"/\", forecast.fcstDate.slice(6, 8), \" \", forecast.fcstTime.slice(0, 2), \"\\uC2DC \\uC608\\uBCF4\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 253,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          margin: '5px 0'\n        },\n        children: [\"\\uD83C\\uDF21\\uFE0F \\uAE30\\uC628: \", /*#__PURE__*/_jsxDEV(\"strong\", {\n          children: [forecast.T3H || '-', \"\\xB0C\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 257,\n          columnNumber: 21\n        }, this), \"(\\uCD5C\\uACE0/\\uCD5C\\uC800 \\uAE30\\uC628\\uC740 API \\uD2B9\\uC131\\uC0C1 \\uBCC4\\uB3C4 \\uCC98\\uB9AC \\uD544\\uC694)\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 256,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          margin: '5px 0'\n        },\n        children: [\"\\u2601\\uFE0F \\uD558\\uB298 \\uC0C1\\uD0DC: **\", getSkyDescription(forecast.SKY), \"** | \\u2614 \\uAC15\\uC218 \\uD615\\uD0DC: **\", getPtyDescription(forecast.PTY), \"**\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 260,\n        columnNumber: 11\n      }, this)]\n    }, index, true, {\n      fileName: _jsxFileName,\n      lineNumber: 252,\n      columnNumber: 9\n    }, this)), /*#__PURE__*/_jsxDEV(\"p\", {\n      style: {\n        marginTop: '20px',\n        fontSize: '12px',\n        color: '#999'\n      },\n      children: [\"* \\uC608\\uC2DC\\uB85C \\uAC00\\uC7A5 \\uAC00\\uAE4C\\uC6B4 5\\uAC1C \\uC2DC\\uAC04\\uB300\\uC758 \\uC608\\uBCF4\\uB9CC \\uD45C\\uC2DC\\uD588\\uC2B5\\uB2C8\\uB2E4. (\\uCD1D \", weatherList.length, \"\\uAC1C \\uC608\\uBCF4 \\uB370\\uC774\\uD130 \\uB85C\\uB4DC)\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 266,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 242,\n    columnNumber: 5\n  }, this);\n}\n_s(ShortTermWeather, \"wH4Smhjx/ayPU4K37ZZyTHPgyhQ=\");\n_c = ShortTermWeather;\nexport default ShortTermWeather;\nvar _c;\n$RefreshReg$(_c, \"ShortTermWeather\");","map":{"version":3,"names":["React","useState","useEffect","jsxDEV","_jsxDEV","SERVICE_KEY","encodeURIComponent","API_BASE_URL","RE","GRID","SLAT1","SLAT2","OLON","OLAT","XO","YO","convertToGrid","lat","lon","DEGRAD","Math","PI","RADDEG","re","slat1","slat2","olon","olat","sn","tan","log","cos","sf","pow","ro","ra","theta","nx","floor","sin","ny","getBaseDateTime","now","Date","year","getFullYear","month","String","getMonth","padStart","day","getDate","hour","getHours","base_time","base_date","yesterday","setDate","processForecastData","items","forecastMap","Map","forEach","item","key","fcstDate","fcstTime","has","set","baseDate","baseTime","get","category","fcstValue","Array","from","values","getSkyDescription","code","getPtyDescription","ShortTermWeather","_s","coords","setCoords","weatherList","setWeatherList","loading","setLoading","error","setError","locationName","setLocationName","navigator","geolocation","getCurrentPosition","position","latitude","longitude","enableHighAccuracy","timeout","maximumAge","fetchWeather","API_URL","response","fetch","ok","Error","status","data","json","header","resultCode","resultMsg","body","length","processedData","e","message","style","textAlign","padding","children","fileName","_jsxFileName","lineNumber","columnNumber","color","border","borderRadius","maxWidth","margin","fontFamily","borderBottom","paddingBottom","NX","NY","fontSize","slice","map","forecast","index","marginTop","T3H","SKY","PTY","_c","$RefreshReg$"],"sources":["/Users/eunkyo/OracleProj/TEAM_ROOT/root-app/src/ShortTermWeather.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\n\n// ‚ö†Ô∏è ÏÇ¨Ïö©ÏûêÍ∞Ä Ï†úÍ≥µÌïú API ÌÇ§ÏôÄ Í≤©Ïûê Ï¢åÌëúÎ•º Î∞òÏòÅÌñàÏäµÎãàÎã§.\nconst SERVICE_KEY = encodeURIComponent('5297ae5429122e0b56cef39cd7ad0da87089357e66c37c006de3694900b28c1f');\n\n// API ÏóîÎìúÌè¨Ïù∏Ìä∏ (ÌååÏù¥Ïç¨ÏóêÏÑú ÏÇ¨Ïö©ÌïòÏã† URLÏùÑ Î∞òÏòÅÌñàÏäµÎãàÎã§.)\nconst API_BASE_URL = 'http://apis.data.go.kr/1360000/VilageFcstInfoService_2.0/getVilageFcst';\n\n// --- Í∏∞ÏÉÅÏ≤≠ Í≤©Ïûê Ï¢åÌëú Î≥ÄÌôò Í≥µÏãù ---\n// LCC(Lambert Conformal Conic) Ìà¨ÏòÅÏùÑ ÏÇ¨Ïö©ÌïòÎäî Î≥µÏû°Ìïú Í≥µÏãùÏûÖÎãàÎã§.\n\nconst RE = 6371.00877; // ÏßÄÍµ¨ Î∞òÍ≤Ω (km)\nconst GRID = 5.0;      // Í≤©Ïûê Í∞ÑÍ≤© (km)\nconst SLAT1 = 30.0;    // ÌëúÏ§Ä ÏúÑÎèÑ 1\nconst SLAT2 = 60.0;    // ÌëúÏ§Ä ÏúÑÎèÑ 2\nconst OLON = 126.0;    // Í∏∞Ï§Ä Í≤ΩÎèÑ\nconst OLAT = 38.0;     // Í∏∞Ï§Ä ÏúÑÎèÑ\nconst XO = 43;         // ÏõêÏ†ê X Ï¢åÌëú\nconst YO = 136;        // ÏõêÏ†ê Y Ï¢åÌëú\n\nfunction convertToGrid(lat, lon) {\n    const DEGRAD = Math.PI / 180.0;\n    const RADDEG = 180.0 / Math.PI;\n\n    const re = RE / GRID;\n    const slat1 = SLAT1 * DEGRAD;\n    const slat2 = SLAT2 * DEGRAD;\n    const olon = OLON * DEGRAD;\n    const olat = OLAT * DEGRAD;\n\n    let sn = Math.tan(Math.PI * 0.25 + slat2 * 0.5) / Math.tan(Math.PI * 0.25 + slat1 * 0.5);\n    sn = Math.log(Math.cos(slat1) / Math.cos(slat2)) / Math.log(sn);\n    let sf = Math.tan(Math.PI * 0.25 + slat1 * 0.5);\n    sf = Math.pow(sf, sn) * Math.cos(slat1) / sn;\n    let ro = Math.tan(Math.PI * 0.25 + olat * 0.5);\n    ro = re * sf / Math.pow(ro, sn);\n    \n    // ÏÇ¨Ïö©ÏûêÏùò ÏúÑÎèÑ/Í≤ΩÎèÑ Î≥ÄÌôò\n    let ra = Math.tan(Math.PI * 0.25 + lat * DEGRAD * 0.5);\n    ra = re * sf / Math.pow(ra, sn);\n    let theta = lon * DEGRAD - olon;\n    if (theta > Math.PI) theta -= 2.0 * Math.PI;\n    if (theta < -Math.PI) theta += 2.0 * Math.PI;\n    theta *= sn;\n    \n    // ÏµúÏ¢Ö Í≤©Ïûê Ï¢åÌëú (nx, ny) Í≥ÑÏÇ∞\n    const nx = Math.floor(ra * Math.sin(theta) + XO + 0.5);\n    const ny = Math.floor(ro - ra * Math.cos(theta) + YO + 0.5);\n\n    return { nx, ny };\n}\n\n/**\n * Í∏∞ÏÉÅÏ≤≠ Îã®Í∏∞ÏòàÎ≥¥ API Ìò∏Ï∂úÏùÑ ÏúÑÌïú base_dateÏôÄ base_timeÏùÑ Í≥ÑÏÇ∞Ìï©ÎãàÎã§.\n * APIÎäî 3ÏãúÍ∞Ñ Îã®ÏúÑÎ°ú Î∞úÌëúÎê©ÎãàÎã§. (02, 05, 08, 11, 14, 17, 20, 23Ïãú Ï†ïÍ∞Å)\n */\nfunction getBaseDateTime() {\n  const now = new Date();\n  const year = now.getFullYear();\n  const month = String(now.getMonth() + 1).padStart(2, '0');\n  const day = String(now.getDate()).padStart(2, '0');\n  \n  let hour = now.getHours();\n  let base_time = '';\n  \n  // Î∞úÌëú ÏãúÍ∞ÑÏùÑ Í∏∞Ï§ÄÏúºÎ°ú Í∞ÄÏû• ÏµúÍ∑ºÏùò ÏãúÍ∞ÑÏùÑ Ï∞æÏäµÎãàÎã§.\n  if (hour >= 23) base_time = '2300';\n  else if (hour >= 20) base_time = '2000';\n  else if (hour >= 17) base_time = '1700';\n  else if (hour >= 14) base_time = '1400';\n  else if (hour >= 11) base_time = '1100';\n  else if (hour >= 8) base_time = '0800';\n  else if (hour >= 5) base_time = '0500';\n  else if (hour >= 2) base_time = '0200';\n  else base_time = '2300'; // 00Ïãú, 01ÏãúÏùò Í≤ΩÏö∞ Ï†ÑÎÇ† 23Ïãú Î∞úÌëú Í∏∞Ï§Ä\n\n  // ÌòÑÏû¨ ÏãúÍ∞ÅÏù¥ Î∞úÌëú ÏãúÍ∞Ñ Í∏∞Ï§ÄÎ≥¥Îã§ Îπ†Î•¥Îã§Î©¥, base_dateÎ•º Ï†ÑÎÇ†Î°ú ÏÑ§Ï†ïÌï©ÎãàÎã§.\n  let base_date = `${year}${month}${day}`;\n  if (base_time === '2300' && now.getHours() < 2) {\n    const yesterday = new Date(now);\n    yesterday.setDate(now.getDate() - 1);\n    base_date = `${yesterday.getFullYear()}${String(yesterday.getMonth() + 1).padStart(2, '0')}${String(yesterday.getDate()).padStart(2, '0')}`;\n  }\n\n  return { base_date, base_time };\n}\n\n// Í≤©Ïûê Îç∞Ïù¥ÌÑ∞(item) Î∞∞Ïó¥ÏùÑ ÏãúÍ∞ÑÎ≥Ñ ÏòàÎ≥¥ Í∞ùÏ≤¥Î°ú Î≥ÄÌôòÌïòÎäî Ìï®Ïàò\nfunction processForecastData(items) {\n  const forecastMap = new Map();\n\n  items.forEach(item => {\n    const key = `${item.fcstDate}_${item.fcstTime}`;\n    if (!forecastMap.has(key)) {\n      forecastMap.set(key, { \n        baseDate: item.baseDate,\n        baseTime: item.baseTime,\n        fcstDate: item.fcstDate, \n        fcstTime: item.fcstTime \n      });\n    }\n    \n    // category (Ïπ¥ÌÖåÍ≥†Î¶¨ ÏΩîÎìú)Ïóê Îî∞Îùº Í∞íÏùÑ Ìï†Îãπ\n    forecastMap.get(key)[item.category] = item.fcstValue;\n  });\n\n  return Array.from(forecastMap.values());\n}\n\n// ÌïòÎäò ÏÉÅÌÉú(SKY) ÏΩîÎìú Î≥ÄÌôò\nfunction getSkyDescription(code) {\n  if (!code) return 'Ï†ïÎ≥¥ ÏóÜÏùå';\n  switch (String(code)) {\n    case '1': return 'ÎßëÏùå';\n    case '3': return 'Íµ¨Î¶Ñ ÎßéÏùå';\n    case '4': return 'ÌùêÎ¶º';\n    default: return `ÏΩîÎìú ${code}`;\n  }\n}\n\n// Í∞ïÏàò ÌòïÌÉú(PTY) ÏΩîÎìú Î≥ÄÌôò\nfunction getPtyDescription(code) {\n  if (!code) return 'Í∞ïÏàò ÏóÜÏùå';\n  switch (String(code)) {\n    case '0': return 'Í∞ïÏàò ÏóÜÏùå';\n    case '1': return 'ÎπÑ';\n    case '2': return 'ÎπÑ/Îàà';\n    case '3': return 'Îàà';\n    case '4': return 'ÏÜåÎÇòÍ∏∞';\n    case '5': return 'ÎπóÎ∞©Ïö∏';\n    case '6': return 'ÎπóÎ∞©Ïö∏/ÎààÎÇ†Î¶º';\n    case '7': return 'ÎààÎÇ†Î¶º';\n    default: return `ÏΩîÎìú ${code}`;\n  }\n}\n\n\nfunction ShortTermWeather() {\n  // NX, NYÎ•º ÎèôÏ†ÅÏúºÎ°ú Ï†ÄÏû•ÌïòÍ∏∞ ÏúÑÌïú ÏÉàÎ°úÏö¥ ÏÉÅÌÉú Ï∂îÍ∞Ä\n  const [coords, setCoords] = useState({ nx: null, ny: null }); \n  const [weatherList, setWeatherList] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [locationName, setLocationName] = useState(\"ÌòÑÏû¨ ÏúÑÏπò\"); // ÏúÑÏπò Ïù¥Î¶Ñ ÌëúÏãúÏö©\n\n  useEffect(() => {\n    // 1. Î∏åÎùºÏö∞Ï†ÄÏùò Geolocation APIÎ•º ÏÇ¨Ïö©ÌïòÏó¨ ÌòÑÏû¨ ÏúÑÏπòÎ•º Í∞ÄÏ†∏ÏòµÎãàÎã§.\n    if (navigator.geolocation) {\n      navigator.geolocation.getCurrentPosition(\n        (position) => {\n          const lat = position.coords.latitude;\n          const lon = position.coords.longitude;\n          \n          // 2. ÏúÑÎèÑ/Í≤ΩÎèÑÎ•º Í∏∞ÏÉÅÏ≤≠ Í≤©Ïûê Ï¢åÌëúÎ°ú Î≥ÄÌôò\n          const { nx, ny } = convertToGrid(lat, lon);\n          setCoords({ nx, ny }); // Î≥ÄÌôòÎêú Ï¢åÌëúÎ•º ÏÉÅÌÉúÏóê Ï†ÄÏû•\n          \n          // (ÏÑ†ÌÉù) ÏúÑÏπò Ï†ïÎ≥¥Î•º Ïó≠ÏßÄÏò§ÏΩîÎî©ÌïòÏó¨ ÎèÑÏãú Ïù¥Î¶ÑÏùÑ Í∞ÄÏ†∏Ïò¨ Ïàò ÏûàÏßÄÎßå,\n          // Ïó¨Í∏∞ÏÑúÎäî Í∞ÑÎã®Ìûà Ï¢åÌëúÎßå ÌëúÏãúÌï©ÎãàÎã§.\n          setLocationName(`(${nx}, ${ny})`); \n        },\n        (error) => {\n          // ÏÇ¨Ïö©ÏûêÍ∞Ä ÏúÑÏπò Í∂åÌïúÏùÑ Í±∞Î∂ÄÌñàÍ±∞ÎÇò Ïò§Î•òÍ∞Ä Î∞úÏÉùÌïú Í≤ΩÏö∞\n          setError(\"ÏúÑÏπò Ï†ïÎ≥¥Î•º Í∞ÄÏ†∏Ïò§Îäî Îç∞ Ïã§Ìå®ÌñàÏäµÎãàÎã§. (Í∂åÌïú Í±∞Î∂Ä ÎòêÎäî Ïò§Î•ò)\");\n          setLoading(false);\n          setCoords({ nx: 60, ny: 127 }); // Í∏∞Î≥∏Í∞í(ÏÑúÏö∏)ÏúºÎ°ú ÎåÄÏ≤¥ÌïòÍ±∞ÎÇò Ïò§Î•ò ÌëúÏãú\n        },\n        { enableHighAccuracy: true, timeout: 5000, maximumAge: 0 }\n      );\n    } else {\n      setError(\"Ïù¥ Î∏åÎùºÏö∞Ï†ÄÎäî ÏúÑÏπò Ï†ïÎ≥¥(Geolocation)Î•º ÏßÄÏõêÌïòÏßÄ ÏïäÏäµÎãàÎã§.\");\n      setLoading(false);\n    }\n  }, []); // Ïª¥Ìè¨ÎÑåÌä∏ ÎßàÏö¥Ìä∏ Ïãú Ìïú Î≤àÎßå ÏúÑÏπò Ï†ïÎ≥¥Î•º ÏöîÏ≤≠Ìï©ÎãàÎã§.\n\n  // ----------------------------------------------------\n  // 3. ÎÇ†Ïî® Îç∞Ïù¥ÌÑ∞Î•º Í∞ÄÏ†∏Ïò§Îäî Î°úÏßÅ (ÏúÑÏπò Ï†ïÎ≥¥Í∞Ä ÌôïÎ≥¥Îêú ÌõÑÏóêÎßå Ïã§Ìñâ)\n// --- [Hook 2] Ï¢åÌëú(coords)Í∞Ä ÏÑ§Ï†ïÎêú ÌõÑ API Ìò∏Ï∂ú ---\n  useEffect(() => {\n    // Ï¢åÌëúÍ∞Ä ÏïÑÏßÅ ÏÑ§Ï†ïÎêòÏßÄ ÏïäÏïòÍ±∞ÎÇò ÏóêÎü¨Í∞Ä ÏûàÎäî Í≤ΩÏö∞ API Ìò∏Ï∂úÏùÑ ÌïòÏßÄ ÏïäÏäµÎãàÎã§.\n    if (coords.nx === null || coords.ny === null || error) {\n        return; \n    }\n\n    const fetchWeather = async () => {\n      setLoading(true); \n      const { base_date, base_time } = getBaseDateTime();\n      \n      // ‚úÖ ÏàòÏ†ïÎêú Î∂ÄÎ∂Ñ: coords.nx, coords.nyÎ•º ÏÇ¨Ïö©\n      const API_URL = `${API_BASE_URL}?serviceKey=${SERVICE_KEY}&pageNo=1&numOfRows=1000&dataType=JSON&base_date=${base_date}&base_time=${base_time}&nx=${coords.nx}&ny=${coords.ny}`;\n      \n      try {\n        const response = await fetch(API_URL);\n\n        if (!response.ok) {\n          throw new Error(`HTTP Error! Status: ${response.status}`);\n        }\n\n        const data = await response.json();\n        \n        if (data.response.header.resultCode !== '00') {\n          throw new Error(`API Error: ${data.response.header.resultMsg}`);\n        }\n        \n        if (!data.response.body || !data.response.body.items || data.response.body.items.item.length === 0) {\n            setWeatherList([]);\n            return;\n        }\n\n        const items = data.response.body.items.item;\n        const processedData = processForecastData(items);\n        setWeatherList(processedData);\n        setError(null);\n\n      } catch (e) {\n        setError(\"ÎÇ†Ïî® Îç∞Ïù¥ÌÑ∞Î•º Î∂àÎü¨Ïò§Îäî Îç∞ Ïã§Ìå®ÌñàÏäµÎãàÎã§: \" + e.message);\n        setWeatherList([]);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchWeather();\n  }, [coords]); // coords ÏÉÅÌÉúÍ∞Ä ÏóÖÎç∞Ïù¥Ìä∏Îê† Îïå Ïã§Ìñâ\n\n  // 1. Î°úÎî© Ï§ë ÌëúÏãú\n  if (loading) {\n    return <div style={{ textAlign: 'center', padding: '20px' }}>Í≥µÍ≥µÎç∞Ïù¥ÌÑ∞ Ìè¨ÌÑ∏ ÎÇ†Ïî® Ï†ïÎ≥¥ Î°úÎî© Ï§ë...</div>;\n  }\n\n  // 2. ÏóêÎü¨ Î∞úÏÉù Ïãú ÌëúÏãú\n  if (error) {\n    return <div style={{ color: 'red', textAlign: 'center', padding: '20px' }}>‚ö†Ô∏è ÏóêÎü¨: {error}</div>;\n  }\n\n  // 3. Îç∞Ïù¥ÌÑ∞Í∞Ä ÏÑ±Í≥µÏ†ÅÏúºÎ°ú Î°úÎìúÎêòÏóàÏùÑ Îïå ÌëúÏãú\n  if (weatherList.length === 0) {\n      return <div style={{ textAlign: 'center', padding: '20px' }}>ÎÇ†Ïî® Ï†ïÎ≥¥Î•º Ï∞æÏùÑ Ïàò ÏóÜÏäµÎãàÎã§. (Í∏∞Ï§Ä ÎÇ†Ïßú: {getBaseDateTime().base_date}, ÏãúÍ∞Ñ: {getBaseDateTime().base_time})</div>;\n  }\n\n  return (\n    <div style={{ padding: '20px', border: '1px solid #0056b3', borderRadius: '8px', maxWidth: '600px', margin: '0 auto', fontFamily: 'Arial, sans-serif' }}>\n      <h3 style={{ borderBottom: '2px solid #0056b3', paddingBottom: '10px', color: '#0056b3' }}>\n        ÏòàÎ≥¥ ÏßÄÏó≠ ({NX}, {NY}) Îã®Í∏∞ ÏòàÎ≥¥\n      </h3>\n      <p style={{ fontSize: '14px', color: '#666' }}>\n        Í∏∞Ï§Ä ÏãúÍ∞Å: {weatherList[0].baseDate.slice(0, 4)}ÎÖÑ {weatherList[0].baseDate.slice(4, 6)}Ïõî {weatherList[0].baseDate.slice(6, 8)}Ïùº / {weatherList[0].baseTime.slice(0, 2)}Ïãú Î∞úÌëú\n      </p>\n      \n      {/* ÏÉÅÏúÑ 5Í∞ú ÏãúÍ∞ÑÎåÄÏùò ÏòàÎ≥¥Îßå ÌëúÏãú */}\n      {weatherList.slice(0, 5).map((forecast, index) => (\n        <div key={index} style={{ borderBottom: index < 4 ? '1px dotted #ccc' : 'none', padding: '10px 0', marginTop: '10px' }}>\n          <h4 style={{ margin: '0', fontSize: '16px', color: '#333' }}>\n            {forecast.fcstDate.slice(4, 6)}/{forecast.fcstDate.slice(6, 8)} {forecast.fcstTime.slice(0, 2)}Ïãú ÏòàÎ≥¥\n          </h4>\n          <p style={{ margin: '5px 0' }}>\n            üå°Ô∏è Í∏∞Ïò®: <strong>{forecast.T3H || '-'}¬∞C</strong> \n            (ÏµúÍ≥†/ÏµúÏ†Ä Í∏∞Ïò®ÏùÄ API ÌäπÏÑ±ÏÉÅ Î≥ÑÎèÑ Ï≤òÎ¶¨ ÌïÑÏöî)\n          </p>\n          <p style={{ margin: '5px 0' }}>\n            ‚òÅÔ∏è ÌïòÎäò ÏÉÅÌÉú: **{getSkyDescription(forecast.SKY)}** | \n            ‚òî Í∞ïÏàò ÌòïÌÉú: **{getPtyDescription(forecast.PTY)}**\n          </p>\n        </div>\n      ))}\n      <p style={{ marginTop: '20px', fontSize: '12px', color: '#999' }}>* ÏòàÏãúÎ°ú Í∞ÄÏû• Í∞ÄÍπåÏö¥ 5Í∞ú ÏãúÍ∞ÑÎåÄÏùò ÏòàÎ≥¥Îßå ÌëúÏãúÌñàÏäµÎãàÎã§. (Ï¥ù {weatherList.length}Í∞ú ÏòàÎ≥¥ Îç∞Ïù¥ÌÑ∞ Î°úÎìú)</p>\n    </div>\n  );\n}\n\nexport default ShortTermWeather;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}